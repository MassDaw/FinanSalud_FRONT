<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MuÃ±equito en Tablero 8x8</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 20px;
        background-color: #f0f0f0;
      }

      h1 {
        color: #333;
        margin-bottom: 20px;
      }

      .game-container {
        display: flex;
        gap: 30px;
        align-items: flex-start;
      }

      .board {
        display: grid;
        grid-template-columns: repeat(8, 60px);
        grid-template-rows: repeat(8, 60px);
        gap: 2px;
        background-color: #333;
        padding: 10px;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      }

      .square {
        width: 60px;
        height: 60px;
        background-color: #fff;
        border: 1px solid #ddd;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        position: relative;
        transition: background-color 0.3s ease;
      }

      .square:nth-child(even) {
        background-color: #f8f8f8;
      }

      .square.player {
        background-color: #4caf50;
        animation: bounce 0.5s ease;
      }

      .player-character {
        font-size: 30px;
        animation: wiggle 0.5s ease;
      }

      @keyframes bounce {
        0%,
        20%,
        50%,
        80%,
        100% {
          transform: translateY(0);
        }
        40% {
          transform: translateY(-10px);
        }
        60% {
          transform: translateY(-5px);
        }
      }

      @keyframes wiggle {
        0%,
        100% {
          transform: rotate(0deg);
        }
        25% {
          transform: rotate(-5deg);
        }
        75% {
          transform: rotate(5deg);
        }
      }

      .controls {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 20px;
      }

      .dice {
        width: 80px;
        height: 80px;
        background-color: #fff;
        border: 3px solid #333;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 36px;
        font-weight: bold;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        transition: transform 0.3s ease;
      }

      .dice.rolling {
        animation: roll 0.5s ease-in-out;
      }

      @keyframes roll {
        0% {
          transform: rotate(0deg);
        }
        25% {
          transform: rotate(90deg);
        }
        50% {
          transform: rotate(180deg);
        }
        75% {
          transform: rotate(270deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .roll-button {
        padding: 15px 30px;
        font-size: 18px;
        background-color: #2196f3;
        color: white;
        border: none;
        border-radius: 25px;
        cursor: pointer;
        transition: background-color 0.3s ease, transform 0.1s ease;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }

      .roll-button:hover {
        background-color: #1976d2;
        transform: translateY(-2px);
      }

      .roll-button:active {
        transform: translateY(0);
      }

      .roll-button:disabled {
        background-color: #ccc;
        cursor: not-allowed;
        transform: none;
      }

      .info {
        text-align: center;
        margin-top: 10px;
      }

      .position-info {
        background-color: #fff;
        padding: 15px;
        border-radius: 10px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
      }

      .winner {
        background-color: #ffd700;
        color: #333;
        padding: 20px;
        border-radius: 10px;
        font-size: 24px;
        font-weight: bold;
        text-align: center;
        animation: celebration 1s ease-in-out infinite alternate;
      }

      @keyframes celebration {
        0% {
          transform: scale(1);
        }
        100% {
          transform: scale(1.05);
        }
      }

      .reset-button {
        padding: 10px 20px;
        font-size: 16px;
        background-color: #ff5722;
        color: white;
        border: none;
        border-radius: 20px;
        cursor: pointer;
        margin-top: 10px;
        transition: background-color 0.3s ease;
      }

      .reset-button:hover {
        background-color: #e64a19;
      }
    </style>
  </head>
  <body>
    <h1>ðŸŽ² MuÃ±equito en el Tablero 8x8 ðŸŽ²</h1>

    <div class="game-container">
      <div class="board" id="board"></div>

      <div class="controls">
        <div class="position-info">
          <h3>InformaciÃ³n del Juego</h3>
          <p><strong>PosiciÃ³n:</strong> <span id="position">1</span>/64</p>
          <p><strong>Ãšltimo dado:</strong> <span id="lastRoll">-</span></p>
          <p><strong>Movimientos:</strong> <span id="moveCount">0</span></p>
        </div>

        <div class="dice" id="dice">?</div>
        <button class="roll-button" id="rollButton" onclick="rollDice()">
          ðŸŽ² Lanzar Dado
        </button>

        <div class="info">
          <p>Â¡Mueve el muÃ±equito hasta el final del tablero!</p>
        </div>

        <button class="reset-button" onclick="resetGame()">
          ðŸ”„ Reiniciar Juego
        </button>
      </div>
    </div>

    <script>
      let playerPosition = 0; // PosiciÃ³n actual (0-63)
      let moveCount = 0;
      let isRolling = false;
      let gameWon = false;

      // Crear el tablero
      function createBoard() {
        const board = document.getElementById("board");
        board.innerHTML = "";

        for (let i = 0; i < 64; i++) {
          const square = document.createElement("div");
          square.className = "square";
          square.id = `square-${i}`;

          // Agregar nÃºmero de posiciÃ³n en cada cuadro
          const positionNumber = document.createElement("div");
          positionNumber.style.position = "absolute";
          positionNumber.style.top = "2px";
          positionNumber.style.left = "2px";
          positionNumber.style.fontSize = "10px";
          positionNumber.style.color = "#666";
          positionNumber.textContent = i + 1;
          square.appendChild(positionNumber);

          board.appendChild(square);
        }

        // Colocar el muÃ±equito en la posiciÃ³n inicial
        updatePlayerPosition();
      }

      // Actualizar la posiciÃ³n del muÃ±equito
      function updatePlayerPosition() {
        // Limpiar todas las posiciones
        document.querySelectorAll(".square").forEach((square) => {
          square.classList.remove("player");
          const character = square.querySelector(".player-character");
          if (character) {
            character.remove();
          }
        });

        // Colocar el muÃ±equito en la nueva posiciÃ³n
        const currentSquare = document.getElementById(
          `square-${playerPosition}`
        );
        currentSquare.classList.add("player");

        const character = document.createElement("div");
        character.className = "player-character";
        character.textContent = "ðŸš¶â€â™‚ï¸";
        currentSquare.appendChild(character);

        // Actualizar informaciÃ³n
        document.getElementById("position").textContent = playerPosition + 1;

        // Verificar si ganÃ³
        if (playerPosition >= 63) {
          gameWon = true;
          showWinner();
        }
      }

      // Lanzar el dado
      function rollDice() {
        if (isRolling || gameWon) return;

        isRolling = true;
        const diceElement = document.getElementById("dice");
        const rollButton = document.getElementById("rollButton");

        // AnimaciÃ³n del dado
        diceElement.classList.add("rolling");
        rollButton.disabled = true;
        rollButton.textContent = "ðŸŽ² Lanzando...";

        // Simular el lanzamiento con nÃºmeros aleatorios
        let rollCount = 0;
        const rollInterval = setInterval(() => {
          diceElement.textContent = Math.floor(Math.random() * 6) + 1;
          rollCount++;

          if (rollCount >= 10) {
            clearInterval(rollInterval);

            // Resultado final
            const result = Math.floor(Math.random() * 6) + 1;
            diceElement.textContent = result;
            diceElement.classList.remove("rolling");

            // Mover el muÃ±equito
            setTimeout(() => {
              movePlayer(result);
              isRolling = false;
              rollButton.disabled = false;
              rollButton.textContent = "ðŸŽ² Lanzar Dado";
            }, 500);
          }
        }, 100);
      }

      // Mover el muÃ±equito
      function movePlayer(steps) {
        document.getElementById("lastRoll").textContent = steps;
        moveCount++;
        document.getElementById("moveCount").textContent = moveCount;

        let newPosition = playerPosition + steps;

        // No pasar del final del tablero
        if (newPosition > 63) {
          newPosition = 63;
        }

        // AnimaciÃ³n de movimiento paso a paso
        animateMovement(playerPosition, newPosition);
      }

      // Animar el movimiento paso a paso
      function animateMovement(startPos, endPos) {
        let currentPos = startPos;

        const moveInterval = setInterval(() => {
          if (currentPos < endPos) {
            currentPos++;
            playerPosition = currentPos;
            updatePlayerPosition();
          } else {
            clearInterval(moveInterval);
          }
        }, 200);
      }

      // Mostrar mensaje de victoria
      function showWinner() {
        const controls = document.querySelector(".controls");
        const winnerMessage = document.createElement("div");
        winnerMessage.className = "winner";
        winnerMessage.innerHTML = `
                ðŸŽ‰ Â¡FELICIDADES! ðŸŽ‰<br>
                Â¡Has llegado al final!<br>
                Movimientos: ${moveCount}
            `;
        controls.insertBefore(winnerMessage, controls.firstChild);

        // Confeti effect
        createConfetti();
      }

      // Crear efecto de confeti
      function createConfetti() {
        const colors = [
          "#ff0000",
          "#00ff00",
          "#0000ff",
          "#ffff00",
          "#ff00ff",
          "#00ffff",
        ];

        for (let i = 0; i < 50; i++) {
          setTimeout(() => {
            const confetti = document.createElement("div");
            confetti.style.position = "fixed";
            confetti.style.left = Math.random() * window.innerWidth + "px";
            confetti.style.top = "-10px";
            confetti.style.width = "10px";
            confetti.style.height = "10px";
            confetti.style.backgroundColor =
              colors[Math.floor(Math.random() * colors.length)];
            confetti.style.pointerEvents = "none";
            confetti.style.zIndex = "1000";

            document.body.appendChild(confetti);

            // Animar caÃ­da
            let pos = -10;
            const fallInterval = setInterval(() => {
              pos += 5;
              confetti.style.top = pos + "px";
              confetti.style.transform = `rotate(${pos * 2}deg)`;

              if (pos > window.innerHeight) {
                clearInterval(fallInterval);
                confetti.remove();
              }
            }, 50);
          }, i * 100);
        }
      }

      // Reiniciar el juego
      function resetGame() {
        playerPosition = 0;
        moveCount = 0;
        gameWon = false;
        isRolling = false;

        document.getElementById("dice").textContent = "?";
        document.getElementById("lastRoll").textContent = "-";
        document.getElementById("moveCount").textContent = "0";
        document.getElementById("rollButton").disabled = false;
        document.getElementById("rollButton").textContent = "ðŸŽ² Lanzar Dado";

        // Remover mensaje de victoria si existe
        const winner = document.querySelector(".winner");
        if (winner) {
          winner.remove();
        }

        updatePlayerPosition();
      }

      // Inicializar el juego
      createBoard();

      // Permitir lanzar dado con la tecla Espacio
      document.addEventListener("keydown", function (event) {
        if (event.code === "Space") {
          event.preventDefault();
          rollDice();
        }
      });
    </script>
  </body>
</html>
